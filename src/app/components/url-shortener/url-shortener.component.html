<div class="container">
    <div class="wrapper">
        <!-- Header -->
        <div class="header">
            <div class="logo-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2">
                    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
                    <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
                </svg>
            </div>
            <div class="header-text">
                <h1>Link Shortener</h1>
                <p>Make your URLs shorter and shareable</p>
            </div>
        </div>

        <!-- Main Form -->
        <form (ngSubmit)="shortenUrl()" class="form-section">
            <!-- URL Input -->
            <div class="input-group">
                <label for="urlInput" class="label">Your Long URL</label>
                <div class="input-wrapper">
                    <input id="urlInput" type="url" [(ngModel)]="originalUrl" name="originalUrl"
                        placeholder="https://example.com/very/long/url" class="input-field"
                        (keyup.enter)="shortenUrl()" />
                    <span class="input-icon">üîó</span>
                </div>
            </div>

            <!-- Advanced Options -->
            <div class="advanced-section">
                <button type="button" (click)="toggleAdvanced()" class="toggle-advanced">
                    <span>{{ showAdvanced() ? '‚ñº' : '‚ñ∂' }} Advanced Options</span>
                </button>

                <div *ngIf="showAdvanced()" class="advanced-options">
                    <div class="input-group">
                        <label for="expiresAt" class="label">Expiration Date (Optional)</label>
                        <div class="input-wrapper">
                            <input id="expiresAt" type="datetime-local" [(ngModel)]="expiresAt" name="expiresAt"
                                [min]="getMinDateTime()" class="input-field" />
                            <span class="input-icon">üìÖ</span>
                        </div>
                        <p class="help-text">Leave empty for no expiration</p>
                    </div>
                </div>
            </div>

            <!-- Submit Button -->
            <button type="submit" [disabled]="loading()" class="btn-submit">
                <span *ngIf="!loading()">Shorten URL</span>
                <span *ngIf="loading()">
                    <span class="spinner"></span> Generating...
                </span>
            </button>
        </form>

        <!-- Error Message -->
        <div *ngIf="error()" class="alert alert-error">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-width="2">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="12" y1="8" x2="12" y2="12"></line>
                <line x1="12" y1="16" x2="12.01" y2="16"></line>
            </svg>
            {{ error() }}
        </div>

        <!-- Success Message -->
        <div *ngIf="success()" class="success-section">
            <!-- Success Header -->
            <div class="success-header-box">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2">
                    <polyline points="20 6 9 17 4 12"></polyline>
                </svg>
                <div>
                    <h3>Your Link is Ready!</h3>
                    <p>Share this shortened URL with anyone</p>
                </div>
            </div>

            <!-- Short Link Display -->
            <div class="short-link-display">
                <div class="short-link-box">
                    <a [href]="fullShortUrl()" target="_blank" (click)="navigateToShort()" class="short-link-text">
                        {{ fullShortUrl() }}
                    </a>
                </div>
                <button type="button" (click)="copyToClipboard()" [class.copied]="copySuccess()"
                    class="btn-copy-primary">
                    <svg *ngIf="!copySuccess()" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2">
                        <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                        <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                    </svg>
                    <svg *ngIf="copySuccess()" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2">
                        <polyline points="20 6 9 17 4 12"></polyline>
                    </svg>
                    {{ copySuccess() ? 'Copied!' : 'Copy Link' }}
                </button>
            </div>

            <!-- Details Section -->
            <div class="details-section">
                <div class="detail-item">
                    <span class="detail-label">Original URL</span>
                    <span class="detail-value">{{ originalUrl() }}</span>
                </div>

                <div *ngIf="expiresAt()" class="detail-item">
                    <span class="detail-label">Expires</span>
                    <span class="detail-value">{{ expiresAt() | date: 'short' }}</span>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <a [href]="fullShortUrl()" target="_blank" class="btn-open">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="2">
                        <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                        <polyline points="15 3 21 3 21 9"></polyline>
                        <line x1="10" y1="14" x2="21" y2="3"></line>
                    </svg>
                    Open Link
                </a>
                <button type="button" (click)="reset()" class="btn-new">
                    Shorten Another
                </button>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>Developed By ‚ù§Ô∏è ÿßŸÑŸÇÿ¥ÿ© ÿßŸÑÿ£ŸÇŸàŸâŸ∞ ŸÅŸä ÿßŸÑÿπÿßŸÑŸÖ</p>
        </footer>
    </div>
</div>